version: v1.0
name: Complex pipeline without dependencies
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804

fail_fast:
  cancel:
    when: branch =~ '.*'

blocks:
  - name: A
    dependencies: []
    task:
      jobs:
        - name: Sleep 10s => Then Fail
          commands:
            - sleep 10
            - 'false'
            
  - name: B
    dependencies: []
    task:
      agent:
        machine:
         type: g1-standard-8
         os_image: ubuntu1804
        
      jobs:
        - name: Sleep 40s
          commands:
            - sleep 40
        - name: Sleep 40s
          commands:
            - sleep 40
